<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="/styles/home.css">
    <link rel="stylesheet" href="/styles/main.css">
</head>
<body>

    <%- include('partials/navBar')%>


    <div class="home-title">

        All Blog Posts

         <div class="message-alert">
    <% if (locals.successMsg && successMsg.length > 0) { %>
        <div class="alert success">
            <%= successMsg[0] %>
        </div>
    <% } %>

    <% if (locals.errorMsg && errorMsg.length > 0) { %>
        <div class="alert error">
            <%= errorMsg[0] %>
        </div>
    <% } %>
</div>
    </div>

  

    <div class="posts-container">

        <%  if(locals.allPosts){  %>

          <%  allPosts.forEach(post => { %>
                 
            <div class="postCard">
                <div class="post-texts">

                <h2><%= post.postTitle %></h2>
                <small> <%= post.date %></small>

                <p> <%= post.postContent %></p>

                </div>

                <div class="readMoreBtn-div">
                    <button class="read-btn">Read More</button>

                    <form action="/deletePosts/<%=post.postId %>" method="POST" onsubmit="return confirm('Are you sure that you want to delete this post?')" >


                        <button type="submit" class="delete-btn read-btn">Delete Post</button>


                    </form>

                    <a href="/edit/<%=post.postId %>" class="edit-btn read-btn">Edit Post</a>

                </div>

            </div>
                

         <% })  %>


        <%} %>

    </div>







<%- include('partials/footer')%>
    
    
</body>
</html>